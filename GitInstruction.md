## Инструкция по работе с git

### Что это и для чего нужна система контроля версий?
**Git** - одна из реализаций распределённых систем контроля версий.

Позволяет контролировать версионность файлов как локально, так и на удалённом сервере. Самая популярная система контроля версий.

#### Что такое система контроля версий?

Система контроля версий это специальная программа _**Git**_, для организации совместной работы нескольких человек над одним проектом.

Данная программа позволяет организовать сохранение хронолигии изменения проекта с фиксацией этих изменений, указанием авторства изменений с возможность параллельной работы нескольких авторов одновременно с последующим слиянием результатов их работы.

Очень популярна для работы системы контроя версий платформа [Git Hub](https://github.com)

Команда 2 проходит на платформе [Geekbrains](https://gb.ru/)

![Эмблема geekbrains](https://frontend-scripts.hb.bizmrg.com/unique-hf/svg/logo.svg)


## Для чего нужна система контроля версий

### Установка git и VSCode на ваш ПК.
<!--правка команды 1-->
#### Установка VSCode на ваш ПК.
> 1. Переходим на официальный _**[сайт](https://code.visualstudio.com)**_ и загружаем установочный файл.
> 2. Следующим шагом запускаем установочник и ставим редактор кода на компьютер. 
На этом установка завершена. Теперь мы можем использовать редактор кода по назначению. Обычно с этим не должно возникнуть никаких проблем, однако на слабых машинах запуск утилиты часто прерывается. Вылечить такой недуг можно с помощью добавления нового значения к пути ярлыка. Для этого откроем его свойства через правый клик мыши и в графе _**«Объект»**_ пропишем `--disable-gpu.`
Готово! Теперь программа должна работать на любом компьютере.

#### Установка git на ваш ПК

##### Установка в Linux

Если вы хотите установить Git под Linux как бинарный пакет, это можно сделать, используя обычный менеджер пакетов вашего дистрибутива. Если у вас Fedora (или другой похожий дистрибутив, такой как RHEL или CentOS), можно воспользоваться dnf:

```$ sudo dnf install git-all```

Если же у вас дистрибутив, основанный на Debian, например, Ubuntu, попробуйте apt:

```$ sudo apt install git```

Чтобы воспользоваться дополнительными возможностями, посмотрите инструкцию по установке для нескольких различных разновидностей Unix на сайте Git https://git-scm.com/download/linux.

##### Установка на Mac

Существует несколько способов установки Git на Mac. Самый простой – установить Xcode Command Line Tools. В версии Mavericks (10.9) и выше вы можете добиться этого просто первый раз выполнив 'git' в терминале.

```$ git --version``` 

Если Git не установлен, вам будет предложено его установить.

Если вы хотите получить более актуальную версию, то можете воспользоваться бинарным установщиком. Установщик Git для OS X доступен для скачивания с сайта Git https://git-scm.com/download/mac.

![Установка](Установка.jpg)

##### Установка в Windows

Для установки Git в Windows также имеется несколько способов. Официальная сборка доступна для скачивания на официальном сайте Git. Просто перейдите на страницу https://git-scm.com/download/win, и загрузка запустится автоматически. Обратите внимание, что это отдельный проект, называемый «Git для Windows»; для получения дополнительной информации о нём перейдите на https://gitforwindows.org.

Для автоматической установки вы можете использовать пакет Git Chocolatey. Обратите внимание, что пакет Chocolatey поддерживается сообществом.

##### Установка из исходников

Многие предпочитают устанавливать Git из исходников, поскольку это способ позволяет получить самую свежую версию. Обновление бинарных устновщиков, как правило, немного отстаёт, хотя в последнее время разница не столь существенна.

Если вы действительно хотите установить Git из исходников, у вас должны быть установлены следующие библиотеки, от которых он зависит: autotools, curl, zlib, openssl, expat и libiconv. Например, если в вашей системе используется dnf (Fedora) или apt-get (системы на базе Debian), вы можете использовать одну из следующих команд для установки всех зависимостей, используемых для сборки и установки бинарных файлов Git:

``` $ sudo dnf install dh-autoreconf curl-devel expat-devel gettext-devel  openssl-devel perl-devel zlib-devel``` 

```$ sudo apt-get install dh-autoreconf libcurl4-gnutls-dev libexpat1-dev gettext libz-dev libssl-dev``` 

Для того, чтобы собрать документацию в различных форматах (doc, html, info), понадобится установить дополнительные зависимости:

```$ sudo dnf install asciidoc xmlto docbook2X```

```$ sudo apt-get install asciidoc xmlto docbook2x```

Примечание

Пользователи RHEL и производных от неё (таких как CentOS или Scientific Linux) должны подключить репозиторий EPEL для корректной установки пакета docbook2X

Если вы используете систему на базе Debian (Debian/Ubuntu/Ubuntu-производные), вам так же понадобится установить пакет install-info:

```$ sudo apt-get install install-info```

Если вы используете систему на базе RPM (Fedora/RHEL/RHEL-производные), вам так же понадобится установить пакет getopt, который уже установлен в системах на базе Debian:

```$ sudo dnf install getopt```

Плюс из-за различий имён бинарных файлов вам понадобится сделать следующее:

```$ sudo ln -s /usr/bin/db2x_docbook2texi /usr/bin/docbook2x-texi```

Когда все необходимые зависимости будут установлены, вы можете пойти дальше и скачать самый свежий архив с исходниками из следующих мест: с сайта Kernel.org (https://www.kernel.org/pub/software/scm/git) или зеркала на сайте GitHub (https://github.com/git/git/releases). Конечно, немного проще скачать последнюю версию с сайта GitHub, но на странице kernel.org релизы имеют подписи, если вы хотите проверить, что скачиваете.

Затем скомпилируйте и установите Git:

```$ tar -zxf git-2.8.0.tar.gz```

```$ cd git-2.8.0```

```$ make configure```

```$ ./configure --prefix=/usr```

```$ make all doc info```

```$ sudo make install install-doc install-html install-info```

После этого вы можете получать обновления Git посредством самого Git:

$ git clone git://git.kernel.org/pub/scm/git/git.git

#### Установка VSCode на ваш ПК

>Переходим [по ссылке](code.visualstudio.com), секция Download. Здесь есть версия под Mac, Linux. Меня интересует Windows. Нажимаем и скачиваем себе на ПК. Кстати, сайт программы очень полезный, поэтому советую его изучить.

>Программа скачана, запускаем инсталлятор и следуем инструкциям: принимаем, добавляем все галочки, далее, ждем пока программа установится на наш ПК.

### Создание и базовая работа с локальным репозиторием.
#### Что такое репозиторий и инструкция по созданию локальных репозиториев.

Создание репозитория: Представим, что у вас уже есть папка для хранения файлов, но она еще не находится под контролем Git. 

Откройте «Командную строку‎» (Windows) или Терминал (Linux/macOS) и перейдите по пути данной папки.

Остается только ввести нижеуказанную команду, чтобы завершить первый этап.

git init. Благодаря этой команде создается структура подкаталога со всеми необходимыми файлами. Кстати, все они расположены в подпапке с названием .git. Пока что проект не находится под контролем учета версий, поскольку в него добавлены только нужные элементы для работы Git. Для добавления файлов в репозиторий будем использовать git add. Команда git commit является заключительной:

git add

git commit -m 'initial project version'
Теперь у вас есть Git-репозиторий со всеми необходимыми составляющими и отслеживаемыми файлами.


#### Базовая работа с локальным репозиторием

1. **git add** - добавить файл в локальный репозиторий

2. **git status** - просмотр текущих изменений

3. **git commit** - коммит в локальный репозиторий

4. **git commit -m 'initial commit'** коммит изменений в локальный репозиторий

5. **git commit -a -m 'commit all edited files'** закоммитить все измененные файлы без использования команды git add, можно сократить флаг до -am

6. **git log** - просмотр истории коммитов, с флагом --graph - в виде ветвей

7. **git log --graph --decorate --oneline** - так будет красиво и лаконично

8. **gitk** - ещё круче просмотр ветвления коммитов!!!

9. **git reflog** - просмотр истории действий

10. **git diff** - смотрим разницу между текущим состоянием и тем что в индексе

### Ветки. Локальная работа с ветками в git.

## Что такое ветки и для чего они нужны при работе с системой контроля версий.

**Ветка** (*Branch*) — это параллельная версия репозитория. Она включена в этот репозиторий, но не влияет на главную версию, тем самым позволяя свободно работать в параллельной.

Также, обязательно существует основная защищенная ветка (**master**), в которую сливают изменения из других веток. 

Чаще всего, под определенную задачу выделяют отдельную ветку (в свою очередь, она может разделяться на другие ветки для подзадач), а после выполнения задачи и тестирования проекта с этими изменениям, выполняют слияние этой ветки с master-веткой.

#### Базовая работа с ветками в git.
Чтобы перемещаться между зарание создаными ветками, нам нужно её название и ввести команду *git checkout <название ветки>*. В них мы можем делать  комиты и изменять их никак не влияя на основной файл, это нужно для того чтобы не было проблем и путаниц в основном файле. Изменения будут касаться только ветки в которую мы зарание зашли и начали менять. Вход в ветку происходит через команду *git branch <название ветки>*.
### Работа с удаленными репозиториями.

#### Что такое удаленный репозиторий и для чего он нужен

Кроме локальный репозиториев мы также можем использовать удаленный репозиторий. Это созданно для того, чтобы можно было параллельно работать над кодом команде разработчиков и не отвлекаться на пересылку файлов.

Для загрузки удаленного репозитория нужно скопировать ссылку этого репозитория из GitHub и ввести команду в терминале:

    git clone <url ссылки>

*Далее код появиться в вашем локальном репозитории, в котором инициализировали Git

#### Базовая работа с удаленными репозиториями GitHub

Скачивание удаленного репозитория

Чтобы скачать удаленный репозиторий, необходимо создать для него папку, зайти в нее и выполнить команду

    git clone <URL адрес удаленного репозитория>

Отправка изменений в удаленный репозиторий

Чтобы отправить файлы локального репозитория в удаленный репозиторий, необходимо выполнить команды: Связываем наш локальный репозиторий с удаленным репозиторием с помощью команды

    git remote add origin <URL адрес удаленного репозитория на github>

Далее указываем ветку, которую будем использовать в качестве основной

    git branch -M main

В первый раз, когда мы отправляем изменения в удаленный репозиторий, необъходимо воспользоваться командой

    git push -u origin main

В дальнейшем когда наш локальный репозиторий уже "подружился" с удаленным репозиторием, непосредственно отправка изменений в удаленный репозиторий осуществляется командой

    git push

Если при отправке изменений в удаленный репозиторий произошла ошибка (конфликт), то сначала нужно скачать актуальную версию с помощью команды git pull, а затем снова попытаться отправить изменения в удаленный репозиторий с помощью команды git push.
Скачивание изменений из удаленного репозитория

Чтобы скачать актуальную версию файлов из удаленного репозитория, необходимо выполнить команду:

    git pull

PS при этом команда git pull пытается выполнить операцию merge с файлами локального репозитория.

### Совместная работа над проектом (fork, pull request)

*Создание ответвлений (fork)*

Если вы хотите вносить свой вклад в уже существующие проекты, в которых у нас нет прав на внесения изменений путём отправки (*push*) изменений, вы можете создать своё собственное ответвление (*fork*) проекта. Это означает, что GitHub создаст вашу собственную копию проекта, данная копия будет находиться в вашем профиле гитхаба.

Вот как это обычно работает:

* Создайте форк проекта.

* Создайте тематическую ветку на основании ветки master.

* Создайте один или несколько коммитов с изменениями, улучшающих проект.

* Отправьте эту ветку в ваш проект на GitHub.

* Откройте запрос на слияние на GitHub (*pull request*).

* Обсуждайте его, вносите изменения, если нужно.

* Владелец проекта принимает решение о принятии изменений, либо об их отклонении.

* Получите обновлённую ветку master и отправьте её в свой форк.

_Pull Request_ — это запрос на вливание изменений из вашей ветки в основную ветку исходного репозитория. Таким образом они попадут к владельцу проекта.

#### Как строится и для чего нужна совместная работа в системах контроля версий

##### Системы контроля версий — основа командной разработки
 >Системы контроля версий (их ещё называют системами управления версиями) –  один из инструментов, который использует в своей работе любой программист от первокурсника до опытного тим-лида с сотнями успешных проектов.
>
>— Ссылки на примеры кода в репозиториях помещают в своё портфолио.
>
>— Большие проекты с открытым программным кодом  получают тысячи улучшений, благодаря размещению на специализированном хостинге.
>
>— От 30 до 70% кода, использованного в программном продукте, профессиональные >разработчики могут скопировать с проектов, представленных в открытых репозиториях.
>
>Незаменимы системы контроля версий в командной разработке, где синхронизация процесса играет важную роль....

Полный текст по ссылке [сталья о командной разработке](https://progtips.ru/instrumenty-programmista/sistemy-kontrolya-versij-osnova-komandnoj-razrabotki.html).


#### Инструкция по созданию pull request

Делаем fork репозитория
● Делаем clone СВОЕЙ версии репозитория
● Создаем новую ветку и в НЕЕ вносим свои изменения
● Фиксируем изменения (делаем коммиты)
● Отправляем свою версию в свой GitHub
● На сайте GitHub в своем профиле нажимаем кнопку pull request

### Книги и полезные ссылки по изучению git.

* [книга "Pro Git"](https://git-scm.com/book/ru/v2)

* [4 полезные книги для изучения git](https://tproger.ru/books/4-books-about-vcs/)

* [руководство по git](https://ymatuhin.ru/front-end/git_guidelines_in_russian/)

### Альтернативные системы контроля версий.

Кроме система контроля версий Git также существуют также аналоги. 

#### DVC 
**Data Version Control** — это один из многих доступных инструментов с открытым исходным кодом, упрощающих работу с проектами Data Science и ML

#### Delta Lake 
**Delta Lake** — это слой хранилища с открытым исходным кодом, помогающий улучшить состояние озёр данных. Это делается предоставлением транзакций ACID, версионированием данных, управлением метаданными и управлением версиями данных. Инструмент находится ближе к слою абстракции озёр данных, заполняя пробелы там, где большинство озёр данных ограничены

#### Git LFS
**Git LFS** — разработанное рядом разработчиков расширение Git'а с открытым исходным кодом. Это ПО предназначено для устранения больших файлов, которые могут быть добавлены в ваше хранилище (например фотографий и наборов данных) с помощью указателей. Указатели легче, они указывают на хранилище LFS. Таким образом, когда вы отправляете изменения из вашего репозитория в основной, обновление не занимает много времени или места. Это очень легковесный вариант для управления данными

#### Pachyderm
**Pachyderm** — одна из немногих платформ для сбора данных в этом списке. Цель Pachyderm — создать платформу, позволяющую легко воспроизводить результаты моделей ML, управляя всем рабочим процессом обработки данных. В этом отношении Pachyderm — Docker для данных.

Pachyderm использует контейнеры Docker для упаковки вашей среды выполнения. Это позволяет легко воспроизвести результат. Сочетание версионирования данных и Docker дает специалистам Data Science и командам DevOps легко развёртывать модели и обеспечивать их согласованность. Компания Pachyderm взяла на себя обязательства по Биллю о правах в Data Science, в котором изложены основные цели продукта: воспроизводимость, знание истории данных, сотрудничество, инкрементальность и автономия, а также абстрагирование инфраструктуры. Эти принципы определяют многие из особенностей продукта и позволяют командам воспользоваться преимуществ инструмента в полной мере

#### Dolt
**Dolt** — уникальное решение для версионирования данных. В отличие от некоторых других представленных вариантов, которые просто содержат данные о версии, Dolt — это база данных SQL с версиями в стиле Git. Но в отличие от Git'а, где в центре файлы, у Dolt в центре  — таблицы. Это означает, что вы можете обновлять и изменять данные, не беспокоясь о потере изменений. Приложение ещё новое, в ближайшем будущем планируется сделать его на 100 % совместимым с Git и MySQL

#### SVN 
**SVN** - Еще одна распространенная система управления версиями. Большинство проектов с открытым исходным кодом и крупные платформы, такие как Ruby, Python Apache, используют SVN. Из-за огромной популярности существует множество версий и доступных IDE.

Достоинства системы контроля версий SVN

* Новая и значительно улучшенная система, основанная на CVS;
* Допускает атомарные операции;
* Операции в ветке проекта малозатратны;
* Доступны различные плагины IDE.

Недостатки

* Выдает ошибки при переименовании файлов и каталогов;
* Недостаточно команд для управления репозиторием;
* SVN работает медленнее по сравнению с другими системами управления версиями.
